loadstring(game:HttpGet('https://roblox-obfuscator.vercel.app/api/script?c=LS0gTmV4SHViIHwgU3RlYWwgYSBCcmFpbnJvdCAtIEZ1bGwgTW9iaWxlLUZyaWVuZGx5IFZlcnNpb24gKyBPcHRpbWl6ZWQgQmFzZVRpbWUgRVNQCmlmIGdldGdlbnYoKS5OZXhIdWJMb2FkZWQgdGhlbiByZXR1cm4gZW5kCmdldGdlbnYoKS5OZXhIdWJMb2FkZWQ9dHJ1ZQoKLS0gU2VydmljZXMKbG9jYWwgUGxheWVycz1nYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBSdW5TZXJ2aWNlPWdhbWU6R2V0U2VydmljZSgiUnVuU2VydmljZSIpCmxvY2FsIFVzZXJJbnB1dFNlcnZpY2U9Z2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKbG9jYWwgV29ya3NwYWNlPWdhbWU6R2V0U2VydmljZSgiV29ya3NwYWNlIikKbG9jYWwgTG9jYWxQbGF5ZXI9UGxheWVycy5Mb2NhbFBsYXllcgpsb2NhbCBIdHRwU2VydmljZT1nYW1lOkdldFNlcnZpY2UoIkh0dHBTZXJ2aWNlIikKCi0tIENGRwpsb2NhbCBDRkdfRklMRT0iTmV4SHViQ0ZHLmpzb24iCmdldGdlbnYoKS5DRkc9Z2V0Z2VudigpLkNGRyBvciB7CiAgICBBaXJXYWxrPWZhbHNlLCBGbG9hdD1mYWxzZSwgRmxvb3JTdGVhbD1mYWxzZSwgRVNQPWZhbHNlLCBYUmF5PWZhbHNlLCBCYXNlVGltZT1mYWxzZQp9CmxvY2FsIENGRz1nZXRnZW52KCkuQ0ZHCgotLSBGaWxlIGZ1bmN0aW9ucwpsb2NhbCBmdW5jdGlvbiBjYW5GaWxlKCkgcmV0dXJuIHR5cGUod3JpdGVmaWxlKT09ImZ1bmN0aW9uIiBhbmQgdHlwZShyZWFkZmlsZSk9PSJmdW5jdGlvbiIgYW5kIHR5cGUoaXNmaWxlKT09ImZ1bmN0aW9uIiBlbmQKbG9jYWwgZnVuY3Rpb24gc2F2ZUNGRygpIGlmIG5vdCBjYW5GaWxlKCkgdGhlbiByZXR1cm4gZW5kIHBjYWxsKGZ1bmN0aW9uKCkgd3JpdGVmaWxlKENGR19GSUxFLEh0dHBTZXJ2aWNlOkpTT05FbmNvZGUoQ0ZHKSkgZW5kKSBlbmQKbG9jYWwgZnVuY3Rpb24gbG9hZENGRygpCiAgICBpZiBub3QgY2FuRmlsZSgpIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgbm90IHBjYWxsKGlzZmlsZSxDRkdfRklMRSkgdGhlbiByZXR1cm4gZW5kCiAgICBsb2NhbCBvayxyYXc9cGNhbGwocmVhZGZpbGUsQ0ZHX0ZJTEUpCiAgICBpZiBvayBhbmQgcmF3IHRoZW4KICAgICAgICBsb2NhbCBvazIsZGVjPXBjYWxsKEh0dHBTZXJ2aWNlLkpTT05EZWNvZGUsSHR0cFNlcnZpY2UscmF3KQogICAgICAgIGlmIG9rMiBhbmQgdHlwZShkZWMpPT0idGFibGUiIHRoZW4gZm9yIGssdiBpbiBwYWlycyhkZWMpIGRvIENGR1trXT12IGVuZCBlbmQKICAgIGVuZAplbmQKbG9hZENGRygpCnNwYXduKGZ1bmN0aW9uKCkgd2hpbGUgdHJ1ZSBkbyB0YXNrLndhaXQoMTApOyBzYXZlQ0ZHKCkgZW5kIGVuZCkKCi0tIFVJIEhlbHBlcnMKbG9jYWwgZnVuY3Rpb24gbWFrZVN0cm9rZShvYmosY29sb3IsdGhpY2tuZXNzKQogICAgbG9jYWwgcz1JbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIixvYmopCiAgICBzLkNvbG9yPWNvbG9yIG9yIENvbG9yMy5mcm9tUkdCKDE4MCw2MCwyNTUpCiAgICBzLlRoaWNrbmVzcz10aGlja25lc3Mgb3IgMS4yCiAgICByZXR1cm4gcwplbmQKbG9jYWwgZnVuY3Rpb24gbWFrZURyYWdnYWJsZShmcmFtZSxoYW5kbGUpCiAgICBoYW5kbGUuQWN0aXZlPXRydWUKICAgIGxvY2FsIGRyYWdnaW5nPWZhbHNlCiAgICBsb2NhbCBkcmFnU3RhcnQsc3RhcnRQb3MKICAgIGhhbmRsZS5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCiAgICAgICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZT09RW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSBvciBpbnB1dC5Vc2VySW5wdXRUeXBlPT1FbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2ggdGhlbgogICAgICAgICAgICBkcmFnZ2luZz10cnVlCiAgICAgICAgICAgIGRyYWdTdGFydD1pbnB1dC5Qb3NpdGlvbgogICAgICAgICAgICBzdGFydFBvcz1mcmFtZS5Qb3NpdGlvbgogICAgICAgICAgICBpbnB1dC5DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKSBpZiBpbnB1dC5Vc2VySW5wdXRTdGF0ZT09RW51bS5Vc2VySW5wdXRTdGF0ZS5FbmQgdGhlbiBkcmFnZ2luZz1mYWxzZSBlbmQgZW5kKQogICAgICAgIGVuZAogICAgZW5kKQogICAgVXNlcklucHV0U2VydmljZS5JbnB1dENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKICAgICAgICBpZiBub3QgZHJhZ2dpbmcgdGhlbiByZXR1cm4gZW5kCiAgICAgICAgaWYgaW5wdXQuVXNlcklucHV0VHlwZT09RW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlTW92ZW1lbnQgb3IgaW5wdXQuVXNlcklucHV0VHlwZT09RW51bS5Vc2VySW5wdXRUeXBlLlRvdWNoIHRoZW4KICAgICAgICAgICAgbG9jYWwgZGVsdGE9aW5wdXQuUG9zaXRpb24tZHJhZ1N0YXJ0CiAgICAgICAgICAgIGZyYW1lLlBvc2l0aW9uPVVEaW0yLm5ldyhzdGFydFBvcy5YLlNjYWxlLHN0YXJ0UG9zLlguT2Zmc2V0K2RlbHRhLlgsc3RhcnRQb3MuWS5TY2FsZSxzdGFydFBvcy5ZLk9mZnNldCtkZWx0YS5ZKQogICAgICAgIGVuZAogICAgZW5kKQplbmQKCi0tIEJ1aWxkIFVJCmlmIGdhbWUuQ29yZUd1aTpGaW5kRmlyc3RDaGlsZCgiTmV4SHViQ29yZSIpIHRoZW4gcGNhbGwoZnVuY3Rpb24oKSBnYW1lLkNvcmVHdWkuTmV4SHViQ29yZTpEZXN0cm95KCkgZW5kKSBlbmQKbG9jYWwgc2NyZWVuPUluc3RhbmNlLm5ldygiU2NyZWVuR3VpIixnYW1lLkNvcmVHdWkpCnNjcmVlbi5OYW1lPSJOZXhIdWJDb3JlIjsgc2NyZWVuLlJlc2V0T25TcGF3bj1mYWxzZQoKbG9jYWwgQkcsQUNDPUNvbG9yMy5mcm9tUkdCKDI1LDUsNDApLCBDb2xvcjMuZnJvbVJHQigxODAsNjAsMjU1KQpsb2NhbCBtYWluPUluc3RhbmNlLm5ldygiRnJhbWUiLHNjcmVlbikKbWFpbi5OYW1lPSJNYWluIjsgbWFpbi5TaXplPVVEaW0yLm5ldygwLDMyMCwwLDM4MCk7IG1haW4uUG9zaXRpb249VURpbTIubmV3KDAuNSwtMTYwLDAuMDgsMCk7IG1haW4uQmFja2dyb3VuZENvbG9yMz1CRwpJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIixtYWluKS5Db3JuZXJSYWRpdXM9VURpbS5uZXcoMCwxMikKbWFrZVN0cm9rZShtYWluLEFDQywxLjIpCgotLSBIZWFkZXIKbG9jYWwgaGVhZGVyPUluc3RhbmNlLm5ldygiRnJhbWUiLG1haW4pCmhlYWRlci5TaXplPVVEaW0yLm5ldygxLDAsMCw0MCk7IGhlYWRlci5Qb3NpdGlvbj1VRGltMi5uZXcoMCwwLDAsMCk7IGhlYWRlci5CYWNrZ3JvdW5kQ29sb3IzPUFDQwpJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIixoZWFkZXIpLkNvcm5lclJhZGl1cz1VRGltLm5ldygwLDEyKQptYWtlU3Ryb2tlKGhlYWRlcixBQ0MsMS4yKQpsb2NhbCB0aXRsZT1JbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsaGVhZGVyKQp0aXRsZS5TaXplPVVEaW0yLm5ldygxLC00MCwxLDApOyB0aXRsZS5Qb3NpdGlvbj1VRGltMi5uZXcoMCw4LDAsMCk7IHRpdGxlLkJhY2tncm91bmRUcmFuc3BhcmVuY3k9MQp0aXRsZS5Gb250PUVudW0uRm9udC5Hb3RoYW1Cb2xkOyB0aXRsZS5UZXh0U2l6ZT0xODsgdGl0bGUuVGV4dENvbG9yMz1Db2xvcjMubmV3KDEsMSwxKQp0aXRsZS5UZXh0PSJOZXhIdWIgfCBTdGVhbCBhIEJyYWlucm90IjsgdGl0bGUuVGV4dFhBbGlnbm1lbnQ9RW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CmxvY2FsIGhpZGVCdG49SW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIixoZWFkZXIpCmhpZGVCdG4uU2l6ZT1VRGltMi5uZXcoMCwzMiwxLDApOyBoaWRlQnRuLlBvc2l0aW9uPVVEaW0yLm5ldygxLC0zNiwwLDApCmhpZGVCdG4uQmFja2dyb3VuZFRyYW5zcGFyZW5jeT0xOyBoaWRlQnRuLkZvbnQ9RW51bS5Gb250LkdvdGhhbUJvbGQ7IGhpZGVCdG4uVGV4dFNpemU9MjI7IGhpZGVCdG4uVGV4dENvbG9yMz1Db2xvcjMubmV3KDEsMSwxKQpoaWRlQnRuLlRleHQ9IuKAlCIKCi0tIFRhYnMKbG9jYWwgdGFicz1JbnN0YW5jZS5uZXcoIkZyYW1lIixtYWluKQp0YWJzLlNpemU9VURpbTIubmV3KDEsMCwwLDM2KTsgdGFicy5Qb3NpdGlvbj1VRGltMi5uZXcoMCwwLDAsNDApOyB0YWJzLkJhY2tncm91bmRDb2xvcjM9Q29sb3IzLmZyb21SR0IoNDAsMTAsNjApCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLHRhYnMpLkNvcm5lclJhZGl1cz1VRGltLm5ldygwLDEyKQptYWtlU3Ryb2tlKHRhYnMsQUNDLDEpCgpsb2NhbCBidG5NYWluPUluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsdGFicykKYnRuTWFpbi5TaXplPVVEaW0yLm5ldygwLjUsMCwxLDApOyBidG5NYWluLlBvc2l0aW9uPVVEaW0yLm5ldygwLDAsMCwwKTsgYnRuTWFpbi5UZXh0PSJNYWluIjsgYnRuTWFpbi5Gb250PUVudW0uRm9udC5Hb3RoYW1Cb2xkOyBidG5NYWluLlRleHRTaXplPTE1OyBidG5NYWluLlRleHRDb2xvcjM9Q29sb3IzLm5ldygxLDEsMSk7IGJ0bk1haW4uQmFja2dyb3VuZFRyYW5zcGFyZW5jeT0xCmxvY2FsIGJ0blZpc3VhbD1idG5NYWluOkNsb25lKCkKYnRuVmlzdWFsLlBhcmVudD10YWJzOyBidG5WaXN1YWwuUG9zaXRpb249VURpbTIubmV3KDAuNSwwLDAsMCk7IGJ0blZpc3VhbC5UZXh0PSJWaXN1YWwiCgotLSBDb250ZW50IGZyYW1lCmxvY2FsIGNvbnRlbnQ9SW5zdGFuY2UubmV3KCJGcmFtZSIsbWFpbikKY29udGVudC5TaXplPVVEaW0yLm5ldygxLDAsMSwtNzYpOyBjb250ZW50LlBvc2l0aW9uPVVEaW0yLm5ldygwLDAsMCw3Nik7IGNvbnRlbnQuQmFja2dyb3VuZFRyYW5zcGFyZW5jeT0xCgotLSBQYW5lbHMKbG9jYWwgbWFpblBhbmVsPUluc3RhbmNlLm5ldygiRnJhbWUiLGNvbnRlbnQpOyBtYWluUGFuZWwuU2l6ZT1VRGltMi5uZXcoMSwwLDEsMCk7IG1haW5QYW5lbC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5PTEKbG9jYWwgdmlzdWFsUGFuZWw9SW5zdGFuY2UubmV3KCJGcmFtZSIsY29udGVudCk7IHZpc3VhbFBhbmVsLlNpemU9bWFpblBhbmVsLlNpemU7IHZpc3VhbFBhbmVsLlBvc2l0aW9uPW1haW5QYW5lbC5Qb3NpdGlvbjsgdmlzdWFsUGFuZWwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeT0xOyB2aXN1YWxQYW5lbC5WaXNpYmxlPWZhbHNlCgotLSBCZWhhdmlvdXJzIHRhYmxlCmxvY2FsIGJlaGF2aW91cnM9e30KCi0tIFRvZ2dsZSBoZWxwZXIKbG9jYWwgZnVuY3Rpb24gbWFrZVRvZ2dsZShwYXJlbnQsbGFiZWwsY2ZnS2V5LHBvc1kpCiAgICBsb2NhbCBidG49SW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIixwYXJlbnQpCiAgICBidG4uU2l6ZT1VRGltMi5uZXcoMC45LDAsMCwzMik7IGJ0bi5Qb3NpdGlvbj1VRGltMi5uZXcoMC4wNSwwLDAscG9zWSk7IGJ0bi5CYWNrZ3JvdW5kQ29sb3IzPUNvbG9yMy5mcm9tUkdCKDU1LDEyLDgwKQogICAgSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsYnRuKS5Db3JuZXJSYWRpdXM9VURpbS5uZXcoMCwxMikKICAgIG1ha2VTdHJva2UoYnRuLEFDQywxKQogICAgYnRuLkZvbnQ9RW51bS5Gb250LkdvdGhhbUJvbGQ7IGJ0bi5UZXh0U2l6ZT0xNDsgYnRuLlRleHRDb2xvcjM9Q29sb3IzLm5ldygxLDEsMSkKICAgIGJ0bi5UZXh0PWxhYmVsLi4iIFsiLi4oQ0ZHW2NmZ0tleV0gYW5kICJPTiIgb3IgIk9GRiIpLi4iXSIKICAgIGJ0bi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICBDRkdbY2ZnS2V5XT1ub3QgQ0ZHW2NmZ0tleV0KICAgICAgICBidG4uVGV4dD1sYWJlbC4uIiBbIi4uKENGR1tjZmdLZXldIGFuZCAiT04iIG9yICJPRkYiKS4uIl0iCiAgICAgICAgc2F2ZUNGRygpCiAgICAgICAgaWYgYmVoYXZpb3Vyc1tjZmdLZXldIHRoZW4gYmVoYXZpb3Vyc1tjZmdLZXldKENGR1tjZmdLZXldKSBlbmQKICAgIGVuZCkKICAgIHJldHVybiBidG4KZW5kCgotLSBCdWlsZCBNYWluIHRhYgpsb2NhbCB5PTgKbG9jYWwgdEFpcj1tYWtlVG9nZ2xlKG1haW5QYW5lbCwiQWlyIFdhbGsiLCJBaXJXYWxrIix5KTsgeT15KzQwCmxvY2FsIHRGbG9hdD1tYWtlVG9nZ2xlKG1haW5QYW5lbCwiRmxvYXQgdjEiLCJGbG9hdCIseSk7IHk9eSs0MApsb2NhbCB0Rmxvb3I9bWFrZVRvZ2dsZShtYWluUGFuZWwsIkZsb29yIFN0ZWFsIiwiRmxvb3JTdGVhbCIseSk7IHk9eSs0MAoKLS0gVmlzdWFsIHRhYiB0b2dnbGVzCmxvY2FsIHZFU1A9bWFrZVRvZ2dsZSh2aXN1YWxQYW5lbCwiRVNQIFBsYXllcnMiLCJFU1AiLDEyKQpsb2NhbCB2WHJheT1tYWtlVG9nZ2xlKHZpc3VhbFBhbmVsLCJYLVJheSIsIlhSYXkiLDU2KQpsb2NhbCB2QmFzZT1tYWtlVG9nZ2xlKHZpc3VhbFBhbmVsLCJCYXNlVGltZSBFU1AiLCJCYXNlVGltZSIsMTAwKQoKLS0gRHJhZ2dhYmxlCm1ha2VEcmFnZ2FibGUobWFpbixoZWFkZXIpCgotLSBDb2xsYXBzZSBtZW51CmxvY2FsIGNvbGxhcHNlZD1mYWxzZQpoaWRlQnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgY29sbGFwc2VkPW5vdCBjb2xsYXBzZWQKICAgIGNvbnRlbnQuVmlzaWJsZT1ub3QgY29sbGFwc2VkCiAgICB0YWJzLlZpc2libGU9bm90IGNvbGxhcHNlZAogICAgbWFpbi5TaXplPWNvbGxhcHNlZCBhbmQgVURpbTIubmV3KDAsMzIwLDAsNDApIG9yIFVEaW0yLm5ldygwLDMyMCwwLDM4MCkKZW5kKQoKLS0gVGFiIHN3aXRjaGluZwpidG5NYWluLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKSBtYWluUGFuZWwuVmlzaWJsZT10cnVlOyB2aXN1YWxQYW5lbC5WaXNpYmxlPWZhbHNlIGVuZCkKYnRuVmlzdWFsLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKSBtYWluUGFuZWwuVmlzaWJsZT1mYWxzZTsgdmlzdWFsUGFuZWwuVmlzaWJsZT10cnVlIGVuZCkKCi0tID09PT09IEJlaGF2aW91cnMgPT09PT0KLS0gRVNQCmxvY2FsIGVzcEZvbGRlcj1JbnN0YW5jZS5uZXcoIkZvbGRlciIsV29ya3NwYWNlKTsgZXNwRm9sZGVyLk5hbWU9Ik5leEh1YkVTUCIKYmVoYXZpb3Vycy5FU1A9ZnVuY3Rpb24oZW5hYmxlZCkKICAgIGlmIGVuYWJsZWQgdGhlbgogICAgICAgIGZvciBfLHAgaW4gaXBhaXJzKFBsYXllcnM6R2V0UGxheWVycygpKSBkbwogICAgICAgICAgICBpZiBwfj1Mb2NhbFBsYXllciBhbmQgcC5DaGFyYWN0ZXIgYW5kIG5vdCBlc3BGb2xkZXI6RmluZEZpcnN0Q2hpbGQocC5OYW1lKSB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaD1JbnN0YW5jZS5uZXcoIkhpZ2hsaWdodCIpCiAgICAgICAgICAgICAgICAgICAgaC5OYW1lPXAuTmFtZQogICAgICAgICAgICAgICAgICAgIGguQWRvcm5lZT1wLkNoYXJhY3RlcgogICAgICAgICAgICAgICAgICAgIGguRmlsbFRyYW5zcGFyZW5jeT0xCiAgICAgICAgICAgICAgICAgICAgaC5PdXRsaW5lVHJhbnNwYXJlbmN5PTAKICAgICAgICAgICAgICAgICAgICBoLk91dGxpbmVDb2xvcj1BQ0MKICAgICAgICAgICAgICAgICAgICBoLlBhcmVudD1lc3BGb2xkZXIKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbHNlIGVzcEZvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkgZW5kCmVuZAoKLS0gQWlyV2Fsawpsb2NhbCBhaXJQbGF0Zm9ybT1uaWw7IGxvY2FsIGFpckNvbm49bmlsCmJlaGF2aW91cnMuQWlyV2Fsaz1mdW5jdGlvbihlbmFibGVkKQogICAgaWYgZW5hYmxlZCB0aGVuCiAgICAgICAgaWYgbm90IGFpclBsYXRmb3JtIHRoZW4KICAgICAgICAgICAgYWlyUGxhdGZvcm09SW5zdGFuY2UubmV3KCJQYXJ0IixXb3Jrc3BhY2UpCiAgICAgICAgICAgIGFpclBsYXRmb3JtLk5hbWU9Ik5leF9BaXJQbGF0Zm9ybSI7IGFpclBsYXRmb3JtLlNpemU9VmVjdG9yMy5uZXcoNiwwLjgsNikKICAgICAgICAgICAgYWlyUGxhdGZvcm0uQW5jaG9yZWQ9dHJ1ZTsgYWlyUGxhdGZvcm0uQ2FuQ29sbGlkZT10cnVlOyBhaXJQbGF0Zm9ybS5NYXRlcmlhbD1FbnVtLk1hdGVyaWFsLlBsYXN0aWM7IGFpclBsYXRmb3JtLkNvbG9yPUFDQzsgYWlyUGxhdGZvcm0uVHJhbnNwYXJlbmN5PTAuMTIKICAgICAgICBlbmQKICAgICAgICBpZiBhaXJDb25uIHRoZW4gYWlyQ29ubjpEaXNjb25uZWN0KCkgZW5kCiAgICAgICAgYWlyQ29ubj1SdW5TZXJ2aWNlLlJlbmRlclN0ZXBwZWQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgIGlmIExvY2FsUGxheWVyLkNoYXJhY3RlciBhbmQgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikgdGhlbgogICAgICAgICAgICAgICAgbG9jYWwgdGFyZ2V0PUxvY2FsUGxheWVyLkNoYXJhY3Rlci5IdW1hbm9pZFJvb3RQYXJ0LlBvc2l0aW9uLVZlY3RvcjMubmV3KDAsMy42LDApCiAgICAgICAgICAgICAgICBhaXJQbGF0Zm9ybS5Qb3NpdGlvbj1haXJQbGF0Zm9ybS5Qb3NpdGlvbjpMZXJwKHRhcmdldCwwLjI1KQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbHNlCiAgICAgICAgaWYgYWlyQ29ubiB0aGVuIGFpckNvbm46RGlzY29ubmVjdCgpOyBhaXJDb25uPW5pbCBlbmQKICAgICAgICBpZiBhaXJQbGF0Zm9ybSB0aGVuIHBjYWxsKGZ1bmN0aW9uKCkgYWlyUGxhdGZvcm06RGVzdHJveSgpIGVuZCkgZW5kCiAgICAgICAgYWlyUGxhdGZvcm09bmlsCiAgICBlbmQKZW5kCgotLSBGbG9hdApsb2NhbCBmbG9hdENvbm49bmlsCmJlaGF2aW91cnMuRmxvYXQ9ZnVuY3Rpb24oZW5hYmxlZCkKICAgIGlmIGVuYWJsZWQgdGhlbgogICAgICAgIGlmIGZsb2F0Q29ubiB0aGVuIGZsb2F0Q29ubjpEaXNjb25uZWN0KCkgZW5kCiAgICAgICAgZmxvYXRDb25uPVJ1blNlcnZpY2UuUmVuZGVyU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgICAgICAgICAgaWYgTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyIGFuZCBMb2NhbFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICBsb2NhbCBocnA9TG9jYWxQbGF5ZXIuQ2hhcmFjdGVyLkh1bWFub2lkUm9vdFBhcnQKICAgICAgICAgICAgICAgIGxvY2FsIG1vdmVWZWM9VmVjdG9yMy5uZXcoaHJwLlZlbG9jaXR5LlgsIC0xLjYsIGhycC5WZWxvY2l0eS5aKQogICAgICAgICAgICAgICAgaHJwLlZlbG9jaXR5PW1vdmVWZWMKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZWxzZSBpZiBmbG9hdENvbm4gdGhlbiBmbG9hdENvbm46RGlzY29ubmVjdCgpOyBmbG9hdENvbm49bmlsIGVuZCBlbmQKZW5kCgotLSBGbG9vciBTdGVhbApsb2NhbCBmbG9vclBsYXRmb3JtPW5pbApsb2NhbCBmbG9vckNvbm49bmlsCmJlaGF2aW91cnMuRmxvb3JTdGVhbD1mdW5jdGlvbihlbmFibGVkKQogICAgaWYgZW5hYmxlZCB0aGVuCiAgICAgICAgaWYgbm90IGZsb29yUGxhdGZvcm0gdGhlbgogICAgICAgICAgICBmbG9vclBsYXRmb3JtPUluc3RhbmNlLm5ldygiUGFydCIsV29ya3NwYWNlKQogICAgICAgICAgICBmbG9vclBsYXRmb3JtLk5hbWU9Ik5leF9GbG9vclBsYXRmb3JtIjsgZmxvb3JQbGF0Zm9ybS5TaXplPVZlY3RvcjMubmV3KDYsMC44LDYpCiAgICAgICAgICAgIGZsb29yUGxhdGZvcm0uQW5jaG9yZWQ9dHJ1ZTsgZmxvb3JQbGF0Zm9ybS5DYW5Db2xsaWRlPXRydWUKICAgICAgICAgICAgZmxvb3JQbGF0Zm9ybS5NYXRlcmlhbD1FbnVtLk1hdGVyaWFsLlBsYXN0aWM7IGZsb29yUGxhdGZvcm0uQ29sb3I9QUNDOyBmbG9vclBsYXRmb3JtLlRyYW5zcGFyZW5jeT0wLjEyCiAgICAgICAgZW5kCiAgICAgICAgaWYgZmxvb3JDb25uIHRoZW4gZmxvb3JDb25uOkRpc2Nvbm5lY3QoKSBlbmQKICAgICAgICBmbG9vckNvbm49UnVuU2VydmljZS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICBpZiBMb2NhbFBsYXllci5DaGFyYWN0ZXIgYW5kIExvY2FsUGxheWVyLkNoYXJhY3RlcjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpIHRoZW4KICAgICAgICAgICAgICAgIGxvY2FsIGhycD1Mb2NhbFBsYXllci5DaGFyYWN0ZXIuSHVtYW5vaWRSb290UGFydAogICAgICAgICAgICAgICAgZmxvb3JQbGF0Zm9ybS5Qb3NpdGlvbj1ocnAuUG9zaXRpb24tVmVjdG9yMy5uZXcoMCwzLDApCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVsc2UKICAgICAgICBpZiBmbG9vckNvbm4gdGhlbiBmbG9vckNvbm46RGlzY29ubmVjdCgpOyBmbG9vckNvbm49bmlsIGVuZAogICAgICAgIGlmIGZsb29yUGxhdGZvcm0gdGhlbiBwY2FsbChmdW5jdGlvbigpIGZsb29yUGxhdGZvcm06RGVzdHJveSgpIGVuZCkgZW5kCiAgICAgICAgZmxvb3JQbGF0Zm9ybT1uaWwKICAgIGVuZAplbmQKCi0tIFhSYXkKYmVoYXZpb3Vycy5YUmF5PWZ1bmN0aW9uKGVuYWJsZWQpCiAgICBmb3IgXyxvYmogaW4gaXBhaXJzKFdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgIGlmIG9iajpJc0EoIkJhc2VQYXJ0IikgYW5kIG5vdCBvYmo6SXNEZXNjZW5kYW50T2YoTG9jYWxQbGF5ZXIuQ2hhcmFjdGVyKSB0aGVuCiAgICAgICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkgb2JqLkxvY2FsVHJhbnNwYXJlbmN5TW9kaWZpZXI9ZW5hYmxlZCBhbmQgMC43IG9yIDAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCmVuZAoKLS0gQmFzZVRpbWUgRVNQCmxvY2FsIGJhc2VFU1BGb2xkZXI9SW5zdGFuY2UubmV3KCJGb2xkZXIiLFdvcmtzcGFjZSk7IGJhc2VFU1BGb2xkZXIuTmFtZT0iTmV4SHViQmFzZUVTUCIKYmVoYXZpb3Vycy5CYXNlVGltZT1mdW5jdGlvbihlbmFibGVkKQogICAgYmFzZUVTUEZvbGRlcjpDbGVhckFsbENoaWxkcmVuKCkKICAgIGlmIG5vdCBlbmFibGVkIHRoZW4gcmV0dXJuIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIGFkZFRpbWVyKHBsb3QpCiAgICAgICAgbG9jYWwgcmVtID0gcGxvdDpGaW5kRmlyc3RDaGlsZCgiUHVyY2hhc2VzIikKICAgICAgICAgICAgYW5kIHBsb3QuUHVyY2hhc2VzOkZpbmRGaXJzdENoaWxkKCJQbG90QmxvY2siKQogICAgICAgICAgICBhbmQgcGxvdC5QdXJjaGFzZXMuUGxvdEJsb2NrOkZpbmRGaXJzdENoaWxkKCJNYWluIikKICAgICAgICAgICAgYW5kIHBsb3QuUHVyY2hhc2VzLlBsb3RCbG9jay5NYWluOkZpbmRGaXJzdENoaWxkKCJCaWxsYm9hcmRHdWkiKQogICAgICAgICAgICBhbmQgcGxvdC5QdXJjaGFzZXMuUGxvdEJsb2NrLk1haW4uQmlsbGJvYXJkR3VpOkZpbmRGaXJzdENoaWxkKCJSZW1haW5pbmdUaW1lIikKCiAgICAgICAgaWYgcmVtIGFuZCByZW06SXNBKCJUZXh0TGFiZWwiKSB0aGVuCiAgICAgICAgICAgIGxvY2FsIGJiID0gSW5zdGFuY2UubmV3KCJCaWxsYm9hcmRHdWkiLCBiYXNlRVNQRm9sZGVyKQogICAgICAgICAgICBiYi5BZG9ybmVlID0gcGxvdC5QdXJjaGFzZXMuUGxvdEJsb2NrLk1haW4KICAgICAgICAgICAgYmIuU2l6ZSA9IFVEaW0yLm5ldygwLDIwMCwwLDUwKQogICAgICAgICAgICBiYi5BbHdheXNPblRvcCA9IHRydWUKICAgICAgICAgICAgYmIuU3R1ZHNPZmZzZXQgPSBWZWN0b3IzLm5ldygwLDUsMCkKCiAgICAgICAgICAgIGxvY2FsIHR4dCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgYmIpCiAgICAgICAgICAgIHR4dC5TaXplID0gVURpbTIubmV3KDEsMCwxLDApCiAgICAgICAgICAgIHR4dC5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQogICAgICAgICAgICB0eHQuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCiAgICAgICAgICAgIHR4dC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLDEsMSkKICAgICAgICAgICAgdHh0LlRleHRTdHJva2VUcmFuc3BhcmVuY3kgPSAwCiAgICAgICAgICAgIHR4dC5UZXh0U2NhbGVkID0gdHJ1ZQoKICAgICAgICAgICAgUnVuU2VydmljZS5IZWFydGJlYXQ6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICBpZiByZW0gYW5kIHJlbS5UZXh0IHRoZW4KICAgICAgICAgICAgICAgICAgICB0eHQuVGV4dCA9IHJlbS5UZXh0CiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kKQogICAgICAgIGVuZAogICAgZW5kCgogICAgZm9yIF8scGxvdCBpbiBwYWlycyhXb3Jrc3BhY2UuUGxvdHM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICBhZGRUaW1lcihwbG90KQogICAgZW5kCiAgICBXb3Jrc3BhY2UuUGxvdHMuQ2hpbGRBZGRlZDpDb25uZWN0KGZ1bmN0aW9uKHBsb3QpCiAgICAgICAgdGFzay53YWl0KDEpCiAgICAgICAgYWRkVGltZXIocGxvdCkKICAgIGVuZCkKZW5kCgotLSBBcHBseSBvbiBzdGFydHVwCmZvciBrLHYgaW4gcGFpcnMoQ0ZHKSBkbyBpZiBiZWhhdmlvdXJzW2tdIHRoZW4gYmVoYXZpb3Vyc1trXSh2KSBlbmQgZW5k'))()
